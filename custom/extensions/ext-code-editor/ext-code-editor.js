const e="*",t="http://localhost:8000";class ExtCodeEditor{constructor(){this.editor=null}init(){this.editor=CodeMirror.fromTextArea(document.getElementById("editor"),{mode:"application/xml",readOnly:!1,lineNumbers:!0,styleActiveLine:!0,matchBrackets:!0,viewportMargin:1/0,theme:"dracula"}),this.receiveMessage()}sendMessage(t){window.parent.postMessage(t,e)}receiveMessage(){let e=this;var s,a,r;s=window,a="message",r=function(s){if("done"!==s.data&&s.origin===t)switch(s.data.msgType){case"svg_source_view_req":let t=vkbeautify.xml(s.data.msgData,2);e.editor.setValue(t);break;case"svg_source_save_req":e.sendMessage({msgType:"svg_source_save_res",msgData:e.editor.getValue()});break;case"svg_source_copy_req":e.sendMessage({msgType:"svg_source_copy_res",msgData:e.editor.getValue()})}},s.addEventListener?s.addEventListener(a,r,!1):s.attachEvent&&s.attachEvent("on"+a,r)}}export{ExtCodeEditor};
